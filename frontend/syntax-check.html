<!DOCTYPE html>
<html>
<head>
    <title>Syntax Check</title>
</head>
<body>
    <h1>Checking Dashboard Syntax</h1>
    <pre id="output"></pre>
    <script>
        async function checkSyntax() {
            const output = document.getElementById('output');
            
            try {
                // Load the dashboard HTML
                const response = await fetch('/professional-dashboard.html');
                const html = await response.text();
                
                // Extract just the JavaScript
                const scriptMatch = html.match(/<script[^>]*>([\s\S]*?)<\/script>/);
                if (!scriptMatch) {
                    output.textContent = 'No script tag found';
                    return;
                }
                
                const jsCode = scriptMatch[1];
                
                // Try to parse it
                try {
                    new Function(jsCode);
                    output.textContent = '✅ No syntax errors found in JavaScript';
                } catch (syntaxError) {
                    output.textContent = `❌ Syntax Error Found:\n${syntaxError.message}\n\nLine content near error:\n`;
                    
                    // Try to find the problematic line
                    const lines = jsCode.split('\n');
                    const errorMatch = syntaxError.message.match(/line (\d+)/);
                    if (errorMatch) {
                        const lineNum = parseInt(errorMatch[1]) - 1;
                        for (let i = Math.max(0, lineNum - 5); i < Math.min(lines.length, lineNum + 5); i++) {
                            output.textContent += `${i + 1}: ${lines[i]}\n`;
                        }
                    }
                }
                
            } catch (error) {
                output.textContent = `Error loading dashboard: ${error.message}`;
            }
        }
        
        checkSyntax();
    </script>
</body>
</html>